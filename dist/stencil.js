!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("prop-types"),require("assign-deep")):"function"==typeof define&&define.amd?define(["react","prop-types","assign-deep"],t):"object"==typeof exports?exports.stencil=t(require("react"),require("prop-types"),require("assign-deep")):e.stencil=t(e.react,e["prop-types"],e["assign-deep"])}(this,function(e,t,n){return function(e){function t(r){if(n[r])return n[r].exports;var u=n[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return"stncl"+(e?"__"+e:"")+(t?"--"+t:"")};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return"func"===t?"":"number"===t?Number(e):"bool"===t?JSON.parse(e||!1):e};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),a=r(u),o=n(1),l=r(o),i=n(8),s=r(i),c=n(9),f=r(c),d=n(6),p=r(d),m=n(11),y=r(m),b=n(2),h=r(b),v=function(e){var t=e.name,n=e.notes,r=e.props,u=e.examples,o=e.setExample,l=e.setProp,i=e.componentProps,c=e.swatches,d=e.children;return a.default.createElement("section",{className:(0,h.default)("layout")},a.default.createElement("h1",{className:(0,h.default)("title")},t),a.default.createElement("section",{className:(0,h.default)("body")},a.default.createElement(f.default,{swatches:c},d),a.default.createElement(p.default,{setExample:o,examples:u}),a.default.createElement(y.default,{state:i,props:r,setProp:l}),a.default.createElement(s.default,{notes:n})))};v.propTypes={children:l.default.element.isRequired,setExample:l.default.func.isRequired,setProp:l.default.func.isRequired,componentProps:l.default.object.isRequired,props:l.default.object,swatches:l.default.arrayOf(l.default.string),name:l.default.string,notes:l.default.object,examples:l.default.object},t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),u=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.props,n=e.swatches,r=arguments[1];return(0,u.default)({},{props:t,swatches:n},r)};t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=r(i),c=n(1),f=r(c),d=n(2),p=r(d),m=function(e){function t(e){u(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={current:"default"},n.onChange=n.onChange.bind(n),n}return o(t,e),l(t,[{key:"onChange",value:function(e){var t=e.target.value;this.props.setExample(t),this.setState({current:t})}},{key:"render",value:function(){var e=this.props.examples;return e&&s.default.createElement("section",null,s.default.createElement("h2",{className:(0,p.default)("title")},"Examples"),s.default.createElement("div",{className:(0,p.default)("dropdown")},s.default.createElement("select",{className:(0,p.default)("dropdown__select"),onChange:this.onChange,value:this.state.current},Object.keys(e).map(function(e){return s.default.createElement("option",{key:e},e)})),s.default.createElement("div",{className:(0,p.default)("dropdown__arrow")})))||null}}]),t}(i.Component);m.propTypes={setExample:f.default.func.isRequired,examples:f.default.object},t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),a=r(u),o=n(1),l=r(o),i=n(2),s=r(i),c=n(3),f=r(c),d=function(e){var t=e.name,n=e.type,r=e.onChange,u=e.value,o=function(e){var u=e.target.value;return r(t,(0,f.default)(u,n))};if("func"===n)return null;var l=void 0;return"string"===n&&(l=a.default.createElement("input",{type:"text",value:u,className:(0,s.default)("input"),onChange:o})),"number"===n&&(l=a.default.createElement("input",{type:"number",value:u,className:(0,s.default)("input"),onChange:o})),l||null};d.propTypes={name:l.default.string.isRequired,type:l.default.string.isRequired,onChange:l.default.func.isRequired,value:l.default.oneOfType([l.default.node,l.default.array]).isRequired},t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),a=r(u),o=n(1),l=r(o),i=function(e){var t=e.notes;return t&&a.default.createElement("section",null,a.default.createElement("h2",null,"Notes"),Object.keys(t).map(function(e){return a.default.createElement("div",{key:e},a.default.createElement("h3",null,e),t[e])}))||null};i.propTypes={notes:l.default.object},t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=r(i),c=n(1),f=r(c),d=n(2),p=r(d),m=n(12),y=r(m),b=function(e){function t(e){u(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={current:null},n.setSwatch=n.setSwatch.bind(n),n}return o(t,e),l(t,[{key:"setSwatch",value:function(e){this.setState({current:e})}},{key:"render",value:function(){var e=this,t=this.state.current,n=this.props,r=n.swatches,u=n.children,a=void 0;return r&&r.length>0&&(a=s.default.createElement("div",null,s.default.createElement(y.default,{swatch:null,onClick:this.setSwatch}),r.map(function(t){return s.default.createElement(y.default,{key:t,swatch:t,onClick:e.setSwatch})}))),s.default.createElement("div",null,a,s.default.createElement("div",{style:{background:t},className:(0,p.default)("preview")},u))}}]),t}(i.Component);t.default=b,b.propTypes={children:f.default.element.isRequired,swatches:f.default.arrayOf(f.default.string)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),l=r(o),i=n(1),s=r(i),c=n(7),f=r(c),d=function(e){var t=e.name,n=e.defs,r=void 0===n?{}:n,o=u(e,["name","defs"]),i=r.type,s=r.required;return l.default.createElement("li",null,l.default.createElement("div",null,t),l.default.createElement("div",null,l.default.createElement("b",null,i),s?l.default.createElement("i",null," - is required"):null),l.default.createElement(f.default,a({type:i,name:t},o)))};d.propTypes={name:s.default.string.isRequired,defs:s.default.shape({type:s.default.string.isRequired,required:s.default.bool,defaultValue:s.default.node,description:s.default.string}).isRequired,restProps:s.default.object},t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),a=r(u),o=n(1),l=r(o),i=n(10),s=r(i),c=n(3),f=r(c),d=function(e){var t=e.state,n=e.setProp,r=e.props;return!!r&!!t&&a.default.createElement("section",null,a.default.createElement("h2",null,"Props"),a.default.createElement("ul",null,Object.keys(r).map(function(e){return a.default.createElement(s.default,{key:e,name:e,defs:r[e],value:(0,f.default)(t[e],r[e].type),onChange:n})})))||null};d.propTypes={setProp:l.default.func.isRequired,state:l.default.object,props:l.default.object},t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),a=r(u),o=n(1),l=r(o),i=n(2),s=r(i),c=function(e){var t=e.swatch,n=e.onClick,r=function(){return n(t)};return a.default.createElement("button",{className:(0,s.default)("swatch-button"),style:{background:t},onClick:r})};c.propTypes={onClick:l.default.func.isRequired,swatch:l.default.string},t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(5);Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return r(c).default}});var f=n(0),d=r(f),p=n(4),m=r(p),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return function(n){function r(t){a(this,r);var n=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));return n.state={},n.extendedExamples=Object.assign(e.examples||{},{default:i({},n.props)}),n.setExample=n.setExample.bind(n),n.setProp=n.setProp.bind(n),n}return l(r,n),s(r,[{key:"setExample",value:function(e){this.setState(i({},this.extendedExamples[e]))}},{key:"setProp",value:function(e,t){this.setState(u({},e,t))}},{key:"render",value:function(){var n=Object.assign({},this.props,this.state);return d.default.createElement(m.default,i({setExample:this.setExample,setProp:this.setProp,componentProps:n},e),d.default.createElement(t,n))}}]),r}(f.Component)}};t.default=y},function(e,t){e.exports=n}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9zdGVuY2lsLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCA0OTM3YzRlYjYxODA5NTNlNGYyNiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInByb3AtdHlwZXNcIiIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy9jbGFzcy1uYW1lLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL3RyYW5zZm9ybS12YWx1ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Eb2N1bWVudGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL21lcmdlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0V4YW1wbGVzLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0lucHV0LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL05vdGVzLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1ByZXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUHJvcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Qcm9wcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Td2F0Y2guanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0ZW5jaWwuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiYXNzaWduLWRlZXBcIiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwidGhpcyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMF9fIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xX18iLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzE0X18iLCJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImkiLCJsIiwiY2FsbCIsIm0iLCJjIiwidmFsdWUiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNsYXNzTmFtZSIsImVsZW1lbnQiLCJtb2RpZmllciIsImRlZmF1bHQiLCJ0cmFuc2Zvcm1WYWx1ZSIsInR5cGUiLCJOdW1iZXIiLCJKU09OIiwicGFyc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX3JlYWN0IiwiX3JlYWN0MiIsIl9wcm9wVHlwZXMiLCJfcHJvcFR5cGVzMiIsIl9Ob3RlcyIsIl9Ob3RlczIiLCJfUHJldmlldyIsIl9QcmV2aWV3MiIsIl9FeGFtcGxlcyIsIl9FeGFtcGxlczIiLCJfUHJvcHMiLCJfUHJvcHMyIiwiX2NsYXNzTmFtZSIsIl9jbGFzc05hbWUyIiwiRG9jdW1lbnRlciIsIl9yZWYiLCJub3RlcyIsInByb3BzIiwiZXhhbXBsZXMiLCJzZXRFeGFtcGxlIiwic2V0UHJvcCIsImNvbXBvbmVudFByb3BzIiwic3dhdGNoZXMiLCJDb21wb25lbnQiLCJjaGlsZHJlbiIsImNyZWF0ZUVsZW1lbnQiLCJzdGF0ZSIsInByb3BUeXBlcyIsImlzUmVxdWlyZWQiLCJmdW5jIiwiYXJyYXlPZiIsInN0cmluZyIsIl9hc3NpZ25EZWVwIiwiX2Fzc2lnbkRlZXAyIiwibWVyZ2UiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJjb21wb25lbnQiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsIndyaXRhYmxlIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwiZGVzY3JpcHRvciIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIkV4YW1wbGVzIiwiX0NvbXBvbmVudCIsIl90aGlzIiwiZ2V0UHJvdG90eXBlT2YiLCJjdXJyZW50Iiwib25DaGFuZ2UiLCJiaW5kIiwic2V0U3RhdGUiLCJrZXlzIiwibWFwIiwiZXhhbXBsZSIsIl90cmFuc2Zvcm1WYWx1ZSIsIl90cmFuc2Zvcm1WYWx1ZTIiLCJJbnB1dCIsImhhbmRsZU9uQ2hhbmdlIiwiX3JlZjIiLCJpbnB1dEVsIiwib25lT2ZUeXBlIiwibm9kZSIsImFycmF5IiwiTm90ZXMiLCJncm91cCIsIl9Td2F0Y2giLCJfU3dhdGNoMiIsIlByZXZpZXciLCJzZXRTd2F0Y2giLCJzd2F0Y2giLCJfdGhpczIiLCJfcHJvcHMiLCJzd2F0Y2hCdXR0b25zIiwib25DbGljayIsInN0eWxlIiwiYmFja2dyb3VuZCIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllcyIsImluZGV4T2YiLCJfZXh0ZW5kcyIsImFzc2lnbiIsInNvdXJjZSIsIl9JbnB1dCIsIl9JbnB1dDIiLCJQcm9wIiwiX3JlZiRkZWZzIiwiZGVmcyIsInJlc3RQcm9wcyIsInJlcXVpcmVkIiwic2hhcGUiLCJib29sIiwiZGVmYXVsdFZhbHVlIiwiZGVzY3JpcHRpb24iLCJfUHJvcCIsIl9Qcm9wMiIsIlByb3BzIiwicHJvcCIsIlN3YXRjaCIsImhhbmRsZU9uQ2xpY2siLCJfZGVmaW5lUHJvcGVydHkiLCJfbWVyZ2UiLCJfRG9jdW1lbnRlciIsIl9Eb2N1bWVudGVyMiIsInN0ZW5jaWwiLCJzcGVjcyIsIldyYXBwZWRDb21wb25lbnQiLCJTdGVuY2lsIiwi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QWI1Q2IsSUFBQSxVQUFBdkYsTUFBQSxTQWdCVzhJLEVBQU05SSxHQUNiYixLQUFLOEcsU0FBTGdELEtBQWdCSCxFQUFPOUksT0FqQjNCdUYsSUFBQSxTQUFBdkYsTUFBQSxXQXFCSSxHQUFNMEosR0FBZ0JySixPQUFPeUgsVUFBVzNJLEtBQUsyRCxNQUFPM0QsS0FBS29FLE1BQ3pELE9BQ0V6QixHQUFBVCxRQUFBaUMsY0FBQThGLEVBQUEvSCxRQUFBd0csR0FDRTdFLFdBQVk3RCxLQUFLNkQsV0FDakJDLFFBQVM5RCxLQUFLOEQsUUFDZEMsZUFBZ0J3RyxHQUNaSixHQUNKeEgsRUFBQVQsUUFBQWlDLGNBQUNpRyxFQUFxQkcsUUE1QjlCRixHQUFBM0gsRUFBQXVCLFlmcTNCSnRFLEdBQVF1QyxRZWgxQk9nSSxHZm8xQlQsU0FBVXRLLEVBQVFELEdnQi8zQnhCQyxFQUFBRCxRQUFBUSIsImZpbGUiOiJzdGVuY2lsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIiksIHJlcXVpcmUoXCJwcm9wLXR5cGVzXCIpLCByZXF1aXJlKFwiYXNzaWduLWRlZXBcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wicmVhY3RcIiwgXCJwcm9wLXR5cGVzXCIsIFwiYXNzaWduLWRlZXBcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wic3RlbmNpbFwiXSA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpLCByZXF1aXJlKFwicHJvcC10eXBlc1wiKSwgcmVxdWlyZShcImFzc2lnbi1kZWVwXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJzdGVuY2lsXCJdID0gZmFjdG9yeShyb290W1wicmVhY3RcIl0sIHJvb3RbXCJwcm9wLXR5cGVzXCJdLCByb290W1wiYXNzaWduLWRlZXBcIl0pO1xufSkodGhpcywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8wX18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMV9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzE0X18pIHtcbnJldHVybiBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIiksIHJlcXVpcmUoXCJwcm9wLXR5cGVzXCIpLCByZXF1aXJlKFwiYXNzaWduLWRlZXBcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wicmVhY3RcIiwgXCJwcm9wLXR5cGVzXCIsIFwiYXNzaWduLWRlZXBcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wic3RlbmNpbFwiXSA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpLCByZXF1aXJlKFwicHJvcC10eXBlc1wiKSwgcmVxdWlyZShcImFzc2lnbi1kZWVwXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJzdGVuY2lsXCJdID0gZmFjdG9yeShyb290W1wicmVhY3RcIl0sIHJvb3RbXCJwcm9wLXR5cGVzXCJdLCByb290W1wiYXNzaWduLWRlZXBcIl0pO1xufSkodGhpcywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8wX18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMV9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzE0X18pIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gaWRlbnRpdHkgZnVuY3Rpb24gZm9yIGNhbGxpbmcgaGFybW9ueSBpbXBvcnRzIHdpdGggdGhlIGNvcnJlY3QgY29udGV4dFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbi8qKioqKiovIFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMyk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8wX187XG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMV9fO1xuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbi8vICAgIGNsYXNzTmFtZSA6IHN0cmluZyAtPiBzdHJpbmcgLT4gc3RyaW5nXG52YXIgY2xhc3NOYW1lID0gZnVuY3Rpb24gY2xhc3NOYW1lKGVsZW1lbnQsIG1vZGlmaWVyKSB7XG4gIHJldHVybiAnc3RuY2wnICsgKGVsZW1lbnQgPyAnX18nICsgZWxlbWVudCA6ICcnKSArIChtb2RpZmllciA/ICctLScgKyBtb2RpZmllciA6ICcnKTtcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGNsYXNzTmFtZTtcblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG4vLyAgICB0cmFuc2Zvcm1WYWx1ZSA6IHZhbHVlIDogdHlwZSAtPiB2YWx1ZVxudmFyIHRyYW5zZm9ybVZhbHVlID0gZnVuY3Rpb24gdHJhbnNmb3JtVmFsdWUodmFsdWUsIHR5cGUpIHtcbiAgaWYgKHR5cGUgPT09ICdmdW5jJykgcmV0dXJuICcnO1xuICBpZiAodHlwZSA9PT0gJ251bWJlcicpIHJldHVybiBOdW1iZXIodmFsdWUpO1xuICBpZiAodHlwZSA9PT0gJ2Jvb2wnKSByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSB8fCBmYWxzZSk7XG5cbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gdHJhbnNmb3JtVmFsdWU7XG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9Ob3RlcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfTm90ZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTm90ZXMpO1xuXG52YXIgX1ByZXZpZXcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgX1ByZXZpZXcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHJldmlldyk7XG5cbnZhciBfRXhhbXBsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX0V4YW1wbGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V4YW1wbGVzKTtcblxudmFyIF9Qcm9wcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXG52YXIgX1Byb3BzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Byb3BzKTtcblxudmFyIF9jbGFzc05hbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgX2NsYXNzTmFtZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc05hbWUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgRG9jdW1lbnRlciA9IGZ1bmN0aW9uIERvY3VtZW50ZXIoX3JlZikge1xuICB2YXIgbmFtZSA9IF9yZWYubmFtZSxcbiAgICAgIG5vdGVzID0gX3JlZi5ub3RlcyxcbiAgICAgIHByb3BzID0gX3JlZi5wcm9wcyxcbiAgICAgIGV4YW1wbGVzID0gX3JlZi5leGFtcGxlcyxcbiAgICAgIHNldEV4YW1wbGUgPSBfcmVmLnNldEV4YW1wbGUsXG4gICAgICBzZXRQcm9wID0gX3JlZi5zZXRQcm9wLFxuICAgICAgY29tcG9uZW50UHJvcHMgPSBfcmVmLmNvbXBvbmVudFByb3BzLFxuICAgICAgc3dhdGNoZXMgPSBfcmVmLnN3YXRjaGVzLFxuICAgICAgQ29tcG9uZW50ID0gX3JlZi5jaGlsZHJlbjtcbiAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICdzZWN0aW9uJyxcbiAgICB7XG4gICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NOYW1lMi5kZWZhdWx0KSgnbGF5b3V0JykgfSxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICdoMScsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogKDAsIF9jbGFzc05hbWUyLmRlZmF1bHQpKCd0aXRsZScpIH0sXG4gICAgICBuYW1lXG4gICAgKSxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICdzZWN0aW9uJyxcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzTmFtZTIuZGVmYXVsdCkoJ2JvZHknKSB9LFxuICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIF9QcmV2aWV3Mi5kZWZhdWx0LFxuICAgICAgICB7XG4gICAgICAgICAgc3dhdGNoZXM6IHN3YXRjaGVzIH0sXG4gICAgICAgIENvbXBvbmVudFxuICAgICAgKSxcbiAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9FeGFtcGxlczIuZGVmYXVsdCwge1xuICAgICAgICBzZXRFeGFtcGxlOiBzZXRFeGFtcGxlLFxuICAgICAgICBleGFtcGxlczogZXhhbXBsZXMgfSksXG4gICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfUHJvcHMyLmRlZmF1bHQsIHtcbiAgICAgICAgc3RhdGU6IGNvbXBvbmVudFByb3BzLFxuICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgIHNldFByb3A6IHNldFByb3AgfSksXG4gICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTm90ZXMyLmRlZmF1bHQsIHtcbiAgICAgICAgbm90ZXM6IG5vdGVzIH0pXG4gICAgKVxuICApO1xufTtcblxuRG9jdW1lbnRlci5wcm9wVHlwZXMgPSB7XG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmVsZW1lbnQuaXNSZXF1aXJlZCxcbiAgc2V0RXhhbXBsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsXG4gIHNldFByb3A6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLFxuICBjb21wb25lbnRQcm9wczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgcHJvcHM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBzd2F0Y2hlczogX3Byb3BUeXBlczIuZGVmYXVsdC5hcnJheU9mKF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nKSxcbiAgbmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIG5vdGVzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgZXhhbXBsZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBEb2N1bWVudGVyO1xuXG4vKioqLyB9KSxcbi8qIDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9hc3NpZ25EZWVwID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cbnZhciBfYXNzaWduRGVlcDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3NpZ25EZWVwKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLy8gICAgbWVyZ2UgOiAtPiBvYmplY3QgOiBvYmplY3QgLT4gb2JqZWN0XG52YXIgbWVyZ2UgPSBmdW5jdGlvbiBtZXJnZSgpIHtcbiAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgcHJvcHMgPSBfcmVmLnByb3BzLFxuICAgICAgc3dhdGNoZXMgPSBfcmVmLnN3YXRjaGVzO1xuXG4gIHZhciBjb21wb25lbnQgPSBhcmd1bWVudHNbMV07XG5cbiAgcmV0dXJuICgwLCBfYXNzaWduRGVlcDIuZGVmYXVsdCkoe30sIHsgcHJvcHM6IHByb3BzLCBzd2F0Y2hlczogc3dhdGNoZXMgfSwgY29tcG9uZW50KTtcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IG1lcmdlO1xuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfY2xhc3NOYW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9jbGFzc05hbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NOYW1lKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgRXhhbXBsZXMgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoRXhhbXBsZXMsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEV4YW1wbGVzKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV4YW1wbGVzKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChFeGFtcGxlcy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEV4YW1wbGVzKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBjdXJyZW50OiAnZGVmYXVsdCdcbiAgICB9O1xuXG4gICAgX3RoaXMub25DaGFuZ2UgPSBfdGhpcy5vbkNoYW5nZS5iaW5kKF90aGlzKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRXhhbXBsZXMsIFt7XG4gICAga2V5OiAnb25DaGFuZ2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNoYW5nZShfcmVmKSB7XG4gICAgICB2YXIgdmFsdWUgPSBfcmVmLnRhcmdldC52YWx1ZTtcblxuICAgICAgdGhpcy5wcm9wcy5zZXRFeGFtcGxlKHZhbHVlKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBjdXJyZW50OiB2YWx1ZSB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgZXhhbXBsZXMgPSB0aGlzLnByb3BzLmV4YW1wbGVzO1xuXG4gICAgICByZXR1cm4gZXhhbXBsZXMgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdzZWN0aW9uJyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2gyJyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NOYW1lMi5kZWZhdWx0KSgndGl0bGUnKSB9LFxuICAgICAgICAgICdFeGFtcGxlcydcbiAgICAgICAgKSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzTmFtZTIuZGVmYXVsdCkoJ2Ryb3Bkb3duJykgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdzZWxlY3QnLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NOYW1lMi5kZWZhdWx0KSgnZHJvcGRvd25fX3NlbGVjdCcpLFxuICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5vbkNoYW5nZSxcbiAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuY3VycmVudCB9LFxuICAgICAgICAgICAgT2JqZWN0LmtleXMoZXhhbXBsZXMpLm1hcChmdW5jdGlvbiAoZXhhbXBsZSkge1xuICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ29wdGlvbicsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAga2V5OiBleGFtcGxlIH0sXG4gICAgICAgICAgICAgICAgZXhhbXBsZVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc05hbWUyLmRlZmF1bHQpKCdkcm9wZG93bl9fYXJyb3cnKSB9KVxuICAgICAgICApXG4gICAgICApIHx8IG51bGw7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEV4YW1wbGVzO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuRXhhbXBsZXMucHJvcFR5cGVzID0ge1xuICBzZXRFeGFtcGxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCxcbiAgZXhhbXBsZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBFeGFtcGxlcztcblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX2NsYXNzTmFtZSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NOYW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzTmFtZSk7XG5cbnZhciBfdHJhbnNmb3JtVmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX3RyYW5zZm9ybVZhbHVlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zZm9ybVZhbHVlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIElucHV0ID0gZnVuY3Rpb24gSW5wdXQoX3JlZikge1xuICB2YXIgbmFtZSA9IF9yZWYubmFtZSxcbiAgICAgIHR5cGUgPSBfcmVmLnR5cGUsXG4gICAgICBvbkNoYW5nZSA9IF9yZWYub25DaGFuZ2UsXG4gICAgICB2YWx1ZSA9IF9yZWYudmFsdWU7XG5cbiAgdmFyIGhhbmRsZU9uQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlT25DaGFuZ2UoX3JlZjIpIHtcbiAgICB2YXIgdmFsdWUgPSBfcmVmMi50YXJnZXQudmFsdWU7XG5cbiAgICByZXR1cm4gb25DaGFuZ2UobmFtZSwgKDAsIF90cmFuc2Zvcm1WYWx1ZTIuZGVmYXVsdCkodmFsdWUsIHR5cGUpKTtcbiAgfTtcblxuICBpZiAodHlwZSA9PT0gJ2Z1bmMnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgaW5wdXRFbCA9IHZvaWQgMDtcbiAgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgaW5wdXRFbCA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcbiAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGNsYXNzTmFtZTogKDAsIF9jbGFzc05hbWUyLmRlZmF1bHQpKCdpbnB1dCcpLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZU9uQ2hhbmdlIH0pO1xuICB9XG5cbiAgaWYgKHR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgaW5wdXRFbCA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzTmFtZTIuZGVmYXVsdCkoJ2lucHV0JyksXG4gICAgICBvbkNoYW5nZTogaGFuZGxlT25DaGFuZ2UgfSk7XG4gIH1cblxuICByZXR1cm4gaW5wdXRFbCB8fCBudWxsO1xufTtcblxuSW5wdXQucHJvcFR5cGVzID0ge1xuICBuYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkLFxuICB0eXBlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkLFxuICBvbkNoYW5nZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsXG4gIHZhbHVlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLCBfcHJvcFR5cGVzMi5kZWZhdWx0LmFycmF5XSkuaXNSZXF1aXJlZFxufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gSW5wdXQ7XG5cbi8qKiovIH0pLFxuLyogOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIE5vdGVzID0gZnVuY3Rpb24gTm90ZXMoX3JlZikge1xuICB2YXIgbm90ZXMgPSBfcmVmLm5vdGVzO1xuICByZXR1cm4gbm90ZXMgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgJ3NlY3Rpb24nLFxuICAgIG51bGwsXG4gICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnaDInLFxuICAgICAgbnVsbCxcbiAgICAgICdOb3RlcydcbiAgICApLFxuICAgIE9iamVjdC5rZXlzKG5vdGVzKS5tYXAoZnVuY3Rpb24gKGdyb3VwKSB7XG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7XG4gICAgICAgICAga2V5OiBncm91cCB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnaDMnLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgZ3JvdXBcbiAgICAgICAgKSxcbiAgICAgICAgbm90ZXNbZ3JvdXBdXG4gICAgICApO1xuICAgIH0pXG4gICkgfHwgbnVsbDtcbn07XG5cbk5vdGVzLnByb3BUeXBlcyA9IHtcbiAgbm90ZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBOb3RlcztcblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX2NsYXNzTmFtZSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NOYW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzTmFtZSk7XG5cbnZhciBfU3dhdGNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cbnZhciBfU3dhdGNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N3YXRjaCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFByZXZpZXcgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoUHJldmlldywgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUHJldmlldyhwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcmV2aWV3KTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChQcmV2aWV3Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUHJldmlldykpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgY3VycmVudDogbnVsbFxuICAgIH07XG5cbiAgICBfdGhpcy5zZXRTd2F0Y2ggPSBfdGhpcy5zZXRTd2F0Y2guYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFByZXZpZXcsIFt7XG4gICAga2V5OiAnc2V0U3dhdGNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U3dhdGNoKHN3YXRjaCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGN1cnJlbnQ6IHN3YXRjaFxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5zdGF0ZS5jdXJyZW50O1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgc3dhdGNoZXMgPSBfcHJvcHMuc3dhdGNoZXMsXG4gICAgICAgICAgQ29tcG9uZW50ID0gX3Byb3BzLmNoaWxkcmVuO1xuXG5cbiAgICAgIHZhciBzd2F0Y2hCdXR0b25zID0gdm9pZCAwO1xuICAgICAgaWYgKHN3YXRjaGVzICYmIHN3YXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgc3dhdGNoQnV0dG9ucyA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1N3YXRjaDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgc3dhdGNoOiBudWxsLFxuICAgICAgICAgICAgb25DbGljazogdGhpcy5zZXRTd2F0Y2ggfSksXG4gICAgICAgICAgc3dhdGNoZXMubWFwKGZ1bmN0aW9uIChzd2F0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfU3dhdGNoMi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgIGtleTogc3dhdGNoLFxuICAgICAgICAgICAgICBzd2F0Y2g6IHN3YXRjaCxcbiAgICAgICAgICAgICAgb25DbGljazogX3RoaXMyLnNldFN3YXRjaCB9KTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICBudWxsLFxuICAgICAgICBzd2F0Y2hCdXR0b25zLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzdHlsZTogeyBiYWNrZ3JvdW5kOiBjdXJyZW50IH0sXG4gICAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NOYW1lMi5kZWZhdWx0KSgncHJldmlldycpIH0sXG4gICAgICAgICAgQ29tcG9uZW50XG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFByZXZpZXc7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQcmV2aWV3O1xuXG5cblByZXZpZXcucHJvcFR5cGVzID0ge1xuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5lbGVtZW50LmlzUmVxdWlyZWQsXG4gIHN3YXRjaGVzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFycmF5T2YoX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcpXG59O1xuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX0lucHV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxudmFyIF9JbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnB1dCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvYmosIGtleXMpIHsgdmFyIHRhcmdldCA9IHt9OyBmb3IgKHZhciBpIGluIG9iaikgeyBpZiAoa2V5cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGkpKSBjb250aW51ZTsgdGFyZ2V0W2ldID0gb2JqW2ldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxudmFyIFByb3AgPSBmdW5jdGlvbiBQcm9wKF9yZWYpIHtcbiAgdmFyIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICBfcmVmJGRlZnMgPSBfcmVmLmRlZnMsXG4gICAgICBkZWZzID0gX3JlZiRkZWZzID09PSB1bmRlZmluZWQgPyB7fSA6IF9yZWYkZGVmcyxcbiAgICAgIHJlc3RQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbJ25hbWUnLCAnZGVmcyddKTtcblxuICB2YXIgdHlwZSA9IGRlZnMudHlwZSxcbiAgICAgIHJlcXVpcmVkID0gZGVmcy5yZXF1aXJlZDtcblxuXG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAnbGknLFxuICAgIG51bGwsXG4gICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIG51bGwsXG4gICAgICBuYW1lXG4gICAgKSxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgbnVsbCxcbiAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnYicsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHR5cGVcbiAgICAgICksXG4gICAgICByZXF1aXJlZCA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnaScsXG4gICAgICAgIG51bGwsXG4gICAgICAgICcgLSBpcyByZXF1aXJlZCdcbiAgICAgICkgOiBudWxsXG4gICAgKSxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfSW5wdXQyLmRlZmF1bHQsIF9leHRlbmRzKHtcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBuYW1lOiBuYW1lXG4gICAgfSwgcmVzdFByb3BzKSlcbiAgKTtcbn07XG5cblByb3AucHJvcFR5cGVzID0ge1xuICBuYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkLFxuICBkZWZzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnNoYXBlKHtcbiAgICB0eXBlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIHJlcXVpcmVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gICAgZGVmYXVsdFZhbHVlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gICAgZGVzY3JpcHRpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nXG4gIH0pLmlzUmVxdWlyZWQsXG4gIHJlc3RQcm9wczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFByb3A7XG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfUHJvcCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXG52YXIgX1Byb3AyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHJvcCk7XG5cbnZhciBfdHJhbnNmb3JtVmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX3RyYW5zZm9ybVZhbHVlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zZm9ybVZhbHVlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFByb3BzID0gZnVuY3Rpb24gUHJvcHMoX3JlZikge1xuICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlLFxuICAgICAgc2V0UHJvcCA9IF9yZWYuc2V0UHJvcCxcbiAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcblxuICByZXR1cm4gISFwcm9wcyAmICEhc3RhdGUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgJ3NlY3Rpb24nLFxuICAgIG51bGwsXG4gICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnaDInLFxuICAgICAgbnVsbCxcbiAgICAgICdQcm9wcydcbiAgICApLFxuICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgJ3VsJyxcbiAgICAgIG51bGwsXG4gICAgICBPYmplY3Qua2V5cyhwcm9wcykubWFwKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfUHJvcDIuZGVmYXVsdCwge1xuICAgICAgICAgIGtleTogcHJvcCxcbiAgICAgICAgICBuYW1lOiBwcm9wLFxuICAgICAgICAgIGRlZnM6IHByb3BzW3Byb3BdLFxuICAgICAgICAgIHZhbHVlOiAoMCwgX3RyYW5zZm9ybVZhbHVlMi5kZWZhdWx0KShzdGF0ZVtwcm9wXSwgcHJvcHNbcHJvcF0udHlwZSksXG4gICAgICAgICAgb25DaGFuZ2U6IHNldFByb3AgfSk7XG4gICAgICB9KVxuICAgIClcbiAgKSB8fCBudWxsO1xufTtcblxuUHJvcHMucHJvcFR5cGVzID0ge1xuICBzZXRQcm9wOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCxcbiAgc3RhdGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBwcm9wczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFByb3BzO1xuXG4vKioqLyB9KSxcbi8qIDEyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX2NsYXNzTmFtZSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfY2xhc3NOYW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzTmFtZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBTd2F0Y2ggPSBmdW5jdGlvbiBTd2F0Y2goX3JlZikge1xuICB2YXIgc3dhdGNoID0gX3JlZi5zd2F0Y2gsXG4gICAgICBvbkNsaWNrID0gX3JlZi5vbkNsaWNrO1xuXG4gIHZhciBoYW5kbGVPbkNsaWNrID0gZnVuY3Rpb24gaGFuZGxlT25DbGljaygpIHtcbiAgICByZXR1cm4gb25DbGljayhzd2F0Y2gpO1xuICB9O1xuXG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJywge1xuICAgIGNsYXNzTmFtZTogKDAsIF9jbGFzc05hbWUyLmRlZmF1bHQpKCdzd2F0Y2gtYnV0dG9uJyksXG4gICAgc3R5bGU6IHsgYmFja2dyb3VuZDogc3dhdGNoIH0sXG4gICAgb25DbGljazogaGFuZGxlT25DbGljayB9KTtcbn07XG5cblN3YXRjaC5wcm9wVHlwZXMgPSB7XG4gIG9uQ2xpY2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLFxuICBzd2F0Y2g6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nXG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTd2F0Y2g7XG5cbi8qKiovIH0pLFxuLyogMTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMubWVyZ2UgPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfbWVyZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ21lcmdlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWVyZ2UpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfRG9jdW1lbnRlciA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfRG9jdW1lbnRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Eb2N1bWVudGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vLyAgICBzdGVuY2lsIDogb2JqZWN0IC0+IGNvbXBvbmVudCAtPiBjb21wb25lbnRcbnZhciBzdGVuY2lsID0gZnVuY3Rpb24gc3RlbmNpbCgpIHtcbiAgdmFyIHNwZWNzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICByZXR1cm4gZnVuY3Rpb24gKFdyYXBwZWRDb21wb25lbnQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAgIF9pbmhlcml0cyhTdGVuY2lsLCBfQ29tcG9uZW50KTtcblxuICAgICAgZnVuY3Rpb24gU3RlbmNpbChwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RlbmNpbCk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFN0ZW5jaWwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihTdGVuY2lsKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLnN0YXRlID0ge307XG4gICAgICAgIF90aGlzLmV4dGVuZGVkRXhhbXBsZXMgPSBPYmplY3QuYXNzaWduKHNwZWNzLmV4YW1wbGVzIHx8IHt9LCB7XG4gICAgICAgICAgZGVmYXVsdDogX2V4dGVuZHMoe30sIF90aGlzLnByb3BzKVxuICAgICAgICB9KTtcbiAgICAgICAgX3RoaXMuc2V0RXhhbXBsZSA9IF90aGlzLnNldEV4YW1wbGUuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnNldFByb3AgPSBfdGhpcy5zZXRQcm9wLmJpbmQoX3RoaXMpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG5cbiAgICAgIF9jcmVhdGVDbGFzcyhTdGVuY2lsLCBbe1xuICAgICAgICBrZXk6ICdzZXRFeGFtcGxlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEV4YW1wbGUoZXhhbXBsZSkge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoX2V4dGVuZHMoe30sIHRoaXMuZXh0ZW5kZWRFeGFtcGxlc1tleGFtcGxlXSkpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogJ3NldFByb3AnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UHJvcChwcm9wLCB2YWx1ZSkge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoX2RlZmluZVByb3BlcnR5KHt9LCBwcm9wLCB2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgdmFyIGV4dGVuZGVkUHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByb3BzLCB0aGlzLnN0YXRlKTtcbiAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfRG9jdW1lbnRlcjIuZGVmYXVsdCxcbiAgICAgICAgICAgIF9leHRlbmRzKHtcbiAgICAgICAgICAgICAgc2V0RXhhbXBsZTogdGhpcy5zZXRFeGFtcGxlLFxuICAgICAgICAgICAgICBzZXRQcm9wOiB0aGlzLnNldFByb3AsXG4gICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzOiBleHRlbmRlZFByb3BzXG4gICAgICAgICAgICB9LCBzcGVjcyksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChXcmFwcGVkQ29tcG9uZW50LCBleHRlbmRlZFByb3BzKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1dKTtcblxuICAgICAgcmV0dXJuIFN0ZW5jaWw7XG4gICAgfShfcmVhY3QuQ29tcG9uZW50KTtcbiAgfTtcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHN0ZW5jaWw7XG5cbi8qKiovIH0pLFxuLyogMTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzE0X187XG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTtcbn0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzdGVuY2lsLmpzIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gaWRlbnRpdHkgZnVuY3Rpb24gZm9yIGNhbGxpbmcgaGFybW9ueSBpbXBvcnRzIHdpdGggdGhlIGNvcnJlY3QgY29udGV4dFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5pID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMyk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgNDkzN2M0ZWI2MTgwOTUzZTRmMjYiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMF9fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwicmVhY3RcIlxuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMV9fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwicHJvcC10eXBlc1wiXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vICAgIGNsYXNzTmFtZSA6IHN0cmluZyAtPiBzdHJpbmcgLT4gc3RyaW5nXG5jb25zdCBjbGFzc05hbWUgPSAoZWxlbWVudCwgbW9kaWZpZXIpID0+IHtcbiAgcmV0dXJuIGBzdG5jbCR7ZWxlbWVudCA/IGBfXyR7ZWxlbWVudH1gIDogJyd9JHttb2RpZmllciA/IGAtLSR7bW9kaWZpZXJ9YCA6ICcnfWBcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3NOYW1lXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaGVscGVycy9jbGFzcy1uYW1lLmpzIiwiLy8gICAgdHJhbnNmb3JtVmFsdWUgOiB2YWx1ZSA6IHR5cGUgLT4gdmFsdWVcbmNvbnN0IHRyYW5zZm9ybVZhbHVlID0gKHZhbHVlLCB0eXBlKSA9PiB7XG4gIGlmICh0eXBlID09PSAnZnVuYycpIHJldHVybiAnJ1xuICBpZiAodHlwZSA9PT0gJ251bWJlcicpIHJldHVybiBOdW1iZXIodmFsdWUpXG4gIGlmICh0eXBlID09PSAnYm9vbCcpIHJldHVybiBKU09OLnBhcnNlKHZhbHVlIHx8IGZhbHNlKVxuXG4gIHJldHVybiB2YWx1ZVxufVxuXG5leHBvcnQgZGVmYXVsdCB0cmFuc2Zvcm1WYWx1ZVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2hlbHBlcnMvdHJhbnNmb3JtLXZhbHVlLmpzIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJ1xuaW1wb3J0IE5vdGVzIGZyb20gJ2NvbXBvbmVudHMvTm90ZXMnXG5pbXBvcnQgUHJldmlldyBmcm9tICdjb21wb25lbnRzL1ByZXZpZXcnXG5pbXBvcnQgRXhhbXBsZXMgZnJvbSAnY29tcG9uZW50cy9FeGFtcGxlcydcbmltcG9ydCBQcm9wcyBmcm9tICdjb21wb25lbnRzL1Byb3BzJ1xuaW1wb3J0IGNsYXNzTmFtZSBmcm9tICdoZWxwZXJzL2NsYXNzLW5hbWUnXG5cbmNvbnN0IERvY3VtZW50ZXIgPSAoe1xuICBuYW1lLFxuICBub3RlcyxcbiAgcHJvcHMsXG4gIGV4YW1wbGVzLFxuICBzZXRFeGFtcGxlLFxuICBzZXRQcm9wLFxuICBjb21wb25lbnRQcm9wcyxcbiAgc3dhdGNoZXMsXG4gIGNoaWxkcmVuOiBDb21wb25lbnRcbn0pID0+IChcbiAgPHNlY3Rpb25cbiAgICBjbGFzc05hbWU9e2NsYXNzTmFtZSgnbGF5b3V0Jyl9PlxuICAgIDxoMVxuICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWUoJ3RpdGxlJyl9PlxuICAgICAge25hbWV9XG4gICAgPC9oMT5cblxuICAgIDxzZWN0aW9uXG4gICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZSgnYm9keScpfT5cbiAgICAgIDxQcmV2aWV3XG4gICAgICAgIHN3YXRjaGVzPXtzd2F0Y2hlc30+XG4gICAgICAgIHtDb21wb25lbnR9XG4gICAgICA8L1ByZXZpZXc+XG5cbiAgICAgIDxFeGFtcGxlc1xuICAgICAgICBzZXRFeGFtcGxlPXtzZXRFeGFtcGxlfVxuICAgICAgICBleGFtcGxlcz17ZXhhbXBsZXN9IC8+XG5cbiAgICAgIDxQcm9wc1xuICAgICAgICBzdGF0ZT17Y29tcG9uZW50UHJvcHN9XG4gICAgICAgIHByb3BzPXtwcm9wc31cbiAgICAgICAgc2V0UHJvcD17c2V0UHJvcH0gLz5cblxuICAgICAgPE5vdGVzXG4gICAgICAgIG5vdGVzPXtub3Rlc30gLz5cbiAgICA8L3NlY3Rpb24+XG4gIDwvc2VjdGlvbj5cbilcblxuRG9jdW1lbnRlci5wcm9wVHlwZXMgPSB7XG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMuZWxlbWVudC5pc1JlcXVpcmVkLFxuICBzZXRFeGFtcGxlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBzZXRQcm9wOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBjb21wb25lbnRQcm9wczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICBwcm9wczogUHJvcFR5cGVzLm9iamVjdCxcbiAgc3dhdGNoZXM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpLFxuICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBub3RlczogUHJvcFR5cGVzLm9iamVjdCxcbiAgZXhhbXBsZXM6IFByb3BUeXBlcy5vYmplY3Rcbn1cblxuZXhwb3J0IGRlZmF1bHQgRG9jdW1lbnRlclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvRG9jdW1lbnRlci5qcyIsImltcG9ydCBhc3NpZ24gZnJvbSAnYXNzaWduLWRlZXAnXG5cbi8vICAgIG1lcmdlIDogLT4gb2JqZWN0IDogb2JqZWN0IC0+IG9iamVjdFxuY29uc3QgbWVyZ2UgPSAoe3Byb3BzLCBzd2F0Y2hlc30gPSB7fSwgY29tcG9uZW50KSA9PiB7XG4gIHJldHVybiBhc3NpZ24oe30sIHtwcm9wcywgc3dhdGNoZXN9LCBjb21wb25lbnQpXG59XG5cbmV4cG9ydCBkZWZhdWx0IG1lcmdlXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaGVscGVycy9tZXJnZS5qcyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcydcbmltcG9ydCBjbGFzc05hbWUgZnJvbSAnaGVscGVycy9jbGFzcy1uYW1lJ1xuXG5jbGFzcyBFeGFtcGxlcyBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGN1cnJlbnQ6ICdkZWZhdWx0J1xuICAgIH1cblxuICAgIHRoaXMub25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcylcbiAgfVxuXG4gIG9uQ2hhbmdlICh7dGFyZ2V0OiB7IHZhbHVlIH19KSB7XG4gICAgdGhpcy5wcm9wcy5zZXRFeGFtcGxlKHZhbHVlKVxuICAgIHRoaXMuc2V0U3RhdGUoe2N1cnJlbnQ6IHZhbHVlfSlcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgY29uc3QgZXhhbXBsZXMgPSB0aGlzLnByb3BzLmV4YW1wbGVzXG5cbiAgICByZXR1cm4gKGV4YW1wbGVzICYmIChcbiAgICAgIDxzZWN0aW9uPlxuICAgICAgICA8aDJcbiAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZSgndGl0bGUnKX0+XG4gICAgICAgICAgRXhhbXBsZXNcbiAgICAgICAgPC9oMj5cblxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWUoJ2Ryb3Bkb3duJyl9PlxuICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lKCdkcm9wZG93bl9fc2VsZWN0Jyl9XG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZX1cbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmN1cnJlbnR9PlxuICAgICAgICAgICAge09iamVjdC5rZXlzKGV4YW1wbGVzKS5tYXAoZXhhbXBsZSA9PiAoXG4gICAgICAgICAgICAgIDxvcHRpb25cbiAgICAgICAgICAgICAgICBrZXk9e2V4YW1wbGV9PlxuICAgICAgICAgICAgICAgIHtleGFtcGxlfVxuICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvc2VsZWN0PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZSgnZHJvcGRvd25fX2Fycm93Jyl9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9zZWN0aW9uPlxuICAgICkpIHx8IG51bGxcbiAgfVxufVxuXG5FeGFtcGxlcy5wcm9wVHlwZXMgPSB7XG4gIHNldEV4YW1wbGU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGV4YW1wbGVzOiBQcm9wVHlwZXMub2JqZWN0XG59XG5cbmV4cG9ydCBkZWZhdWx0IEV4YW1wbGVzXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9FeGFtcGxlcy5qcyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcydcbmltcG9ydCBjbGFzc05hbWUgZnJvbSAnaGVscGVycy9jbGFzcy1uYW1lJ1xuaW1wb3J0IHRyYW5zZm9ybVZhbHVlIGZyb20gJ2hlbHBlcnMvdHJhbnNmb3JtLXZhbHVlJ1xuXG5jb25zdCBJbnB1dCA9ICh7bmFtZSwgdHlwZSwgb25DaGFuZ2UsIHZhbHVlfSkgPT4ge1xuICBjb25zdCBoYW5kbGVPbkNoYW5nZSA9ICh7dGFyZ2V0OiB7dmFsdWV9fSkgPT4ge1xuICAgIHJldHVybiBvbkNoYW5nZShuYW1lLCB0cmFuc2Zvcm1WYWx1ZSh2YWx1ZSwgdHlwZSkpXG4gIH1cblxuICBpZiAodHlwZSA9PT0gJ2Z1bmMnKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGxldCBpbnB1dEVsXG4gIGlmICh0eXBlID09PSAnc3RyaW5nJykge1xuICAgIGlucHV0RWwgPSAoXG4gICAgICA8aW5wdXRcbiAgICAgICAgdHlwZT0ndGV4dCdcbiAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZSgnaW5wdXQnKX1cbiAgICAgICAgb25DaGFuZ2U9e2hhbmRsZU9uQ2hhbmdlfSAvPlxuICAgIClcbiAgfVxuXG4gIGlmICh0eXBlID09PSAnbnVtYmVyJykge1xuICAgIGlucHV0RWwgPSAoXG4gICAgICA8aW5wdXRcbiAgICAgICAgdHlwZT0nbnVtYmVyJ1xuICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lKCdpbnB1dCcpfVxuICAgICAgICBvbkNoYW5nZT17aGFuZGxlT25DaGFuZ2V9IC8+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIGlucHV0RWwgfHwgbnVsbFxufVxuXG5JbnB1dC5wcm9wVHlwZXMgPSB7XG4gIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgdHlwZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgdmFsdWU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgIFByb3BUeXBlcy5ub2RlLFxuICAgIFByb3BUeXBlcy5hcnJheVxuICBdKS5pc1JlcXVpcmVkXG59XG5cbmV4cG9ydCBkZWZhdWx0IElucHV0XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9JbnB1dC5qcyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcydcblxuY29uc3QgTm90ZXMgPSAoe25vdGVzfSkgPT4gKG5vdGVzICYmIChcbiAgPHNlY3Rpb24+XG4gICAgPGgyPlxuICAgICAgTm90ZXNcbiAgICA8L2gyPlxuXG4gICAge09iamVjdC5rZXlzKG5vdGVzKS5tYXAoZ3JvdXAgPT4gKFxuICAgICAgPGRpdlxuICAgICAgICBrZXk9e2dyb3VwfT5cbiAgICAgICAgPGgzPlxuICAgICAgICAgIHtncm91cH1cbiAgICAgICAgPC9oMz5cbiAgICAgICAge25vdGVzW2dyb3VwXX1cbiAgICAgIDwvZGl2PlxuICAgICkpfVxuICA8L3NlY3Rpb24+XG4pKSB8fCBudWxsXG5cbk5vdGVzLnByb3BUeXBlcyA9IHtcbiAgbm90ZXM6IFByb3BUeXBlcy5vYmplY3Rcbn1cblxuZXhwb3J0IGRlZmF1bHQgTm90ZXNcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL05vdGVzLmpzIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJ1xuaW1wb3J0IGNsYXNzTmFtZSBmcm9tICdoZWxwZXJzL2NsYXNzLW5hbWUnXG5pbXBvcnQgU3dhdGNoIGZyb20gJ2NvbXBvbmVudHMvU3dhdGNoJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcmV2aWV3IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY3VycmVudDogbnVsbFxuICAgIH1cblxuICAgIHRoaXMuc2V0U3dhdGNoID0gdGhpcy5zZXRTd2F0Y2guYmluZCh0aGlzKVxuICB9XG5cbiAgc2V0U3dhdGNoIChzd2F0Y2gpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGN1cnJlbnQ6IHN3YXRjaFxuICAgIH0pXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLnN0YXRlLmN1cnJlbnRcbiAgICBjb25zdCB7XG4gICAgICBzd2F0Y2hlcyxcbiAgICAgIGNoaWxkcmVuOiBDb21wb25lbnRcbiAgICB9ID0gdGhpcy5wcm9wc1xuXG4gICAgbGV0IHN3YXRjaEJ1dHRvbnNcbiAgICBpZiAoc3dhdGNoZXMgJiYgc3dhdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgc3dhdGNoQnV0dG9ucyA9IChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8U3dhdGNoXG4gICAgICAgICAgICBzd2F0Y2g9e251bGx9XG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNldFN3YXRjaH0gLz5cblxuICAgICAgICAgIHtzd2F0Y2hlcy5tYXAoc3dhdGNoID0+IChcbiAgICAgICAgICAgIDxTd2F0Y2hcbiAgICAgICAgICAgICAga2V5PXtzd2F0Y2h9XG4gICAgICAgICAgICAgIHN3YXRjaD17c3dhdGNofVxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNldFN3YXRjaH0gLz5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIHtzd2F0Y2hCdXR0b25zfVxuXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBzdHlsZT17e2JhY2tncm91bmQ6IGN1cnJlbnR9fVxuICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lKCdwcmV2aWV3Jyl9PlxuICAgICAgICAgIHtDb21wb25lbnR9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cblByZXZpZXcucHJvcFR5cGVzID0ge1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLmVsZW1lbnQuaXNSZXF1aXJlZCxcbiAgc3dhdGNoZXM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9QcmV2aWV3LmpzIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJ1xuaW1wb3J0IElucHV0IGZyb20gJ2NvbXBvbmVudHMvSW5wdXQnXG5cbmNvbnN0IFByb3AgPSAoe25hbWUsIGRlZnMgPSB7fSwgLi4ucmVzdFByb3BzfSkgPT4ge1xuICBjb25zdCB7XG4gICAgdHlwZSxcbiAgICByZXF1aXJlZFxuICB9ID0gZGVmc1xuXG4gIHJldHVybiAoXG4gICAgPGxpPlxuICAgICAgPGRpdj5cbiAgICAgICAge25hbWV9XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdj5cbiAgICAgICAgPGI+e3R5cGV9PC9iPlxuICAgICAgICB7cmVxdWlyZWQgPyA8aT4gLSBpcyByZXF1aXJlZDwvaT4gOiBudWxsfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxJbnB1dFxuICAgICAgICB0eXBlPXt0eXBlfVxuICAgICAgICBuYW1lPXtuYW1lfVxuICAgICAgICB7Li4ucmVzdFByb3BzfSAvPlxuICAgIDwvbGk+XG4gIClcbn1cblxuUHJvcC5wcm9wVHlwZXMgPSB7XG4gIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgZGVmczogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICB0eXBlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgcmVxdWlyZWQ6IFByb3BUeXBlcy5ib29sLFxuICAgIGRlZmF1bHRWYWx1ZTogUHJvcFR5cGVzLm5vZGUsXG4gICAgZGVzY3JpcHRpb246IFByb3BUeXBlcy5zdHJpbmdcbiAgfSkuaXNSZXF1aXJlZCxcbiAgcmVzdFByb3BzOiBQcm9wVHlwZXMub2JqZWN0XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByb3BcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL1Byb3AuanMiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnXG5pbXBvcnQgUHJvcCBmcm9tICdjb21wb25lbnRzL1Byb3AnXG5pbXBvcnQgdHJhbnNmb3JtVmFsdWUgZnJvbSAnaGVscGVycy90cmFuc2Zvcm0tdmFsdWUnXG5cbmNvbnN0IFByb3BzID0gKHtzdGF0ZSwgc2V0UHJvcCwgcHJvcHN9KSA9PiB7XG4gIHJldHVybiAoISFwcm9wcyAmICEhc3RhdGUgJiYgKFxuICAgIDxzZWN0aW9uPlxuICAgICAgPGgyPlxuICAgICAgICBQcm9wc1xuICAgICAgPC9oMj5cblxuICAgICAgPHVsPlxuICAgICAgICB7T2JqZWN0LmtleXMocHJvcHMpLm1hcChwcm9wID0+IChcbiAgICAgICAgICA8UHJvcFxuICAgICAgICAgICAga2V5PXtwcm9wfVxuICAgICAgICAgICAgbmFtZT17cHJvcH1cbiAgICAgICAgICAgIGRlZnM9e3Byb3BzW3Byb3BdfVxuICAgICAgICAgICAgdmFsdWU9e3RyYW5zZm9ybVZhbHVlKHN0YXRlW3Byb3BdLCBwcm9wc1twcm9wXS50eXBlKX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtzZXRQcm9wfSAvPlxuICAgICAgICApKX1cbiAgICAgIDwvdWw+XG4gICAgPC9zZWN0aW9uPlxuICApKSB8fCBudWxsXG59XG5cblByb3BzLnByb3BUeXBlcyA9IHtcbiAgc2V0UHJvcDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgc3RhdGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIHByb3BzOiBQcm9wVHlwZXMub2JqZWN0XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByb3BzXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9Qcm9wcy5qcyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcydcbmltcG9ydCBjbGFzc05hbWUgZnJvbSAnaGVscGVycy9jbGFzcy1uYW1lJ1xuXG5jb25zdCBTd2F0Y2ggPSAoe3N3YXRjaCwgb25DbGlja30pID0+IHtcbiAgY29uc3QgaGFuZGxlT25DbGljayA9ICgpID0+IHtcbiAgICByZXR1cm4gb25DbGljayhzd2F0Y2gpXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lKCdzd2F0Y2gtYnV0dG9uJyl9XG4gICAgICBzdHlsZT17e2JhY2tncm91bmQ6IHN3YXRjaH19XG4gICAgICBvbkNsaWNrPXtoYW5kbGVPbkNsaWNrfSAvPlxuICApXG59XG5cblN3YXRjaC5wcm9wVHlwZXMgPSB7XG4gIG9uQ2xpY2s6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIHN3YXRjaDogUHJvcFR5cGVzLnN0cmluZ1xufVxuXG5leHBvcnQgZGVmYXVsdCBTd2F0Y2hcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL1N3YXRjaC5qcyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBEb2N1bWVudGVyIGZyb20gJ2NvbXBvbmVudHMvRG9jdW1lbnRlcidcblxuLy8gICAgc3RlbmNpbCA6IG9iamVjdCAtPiBjb21wb25lbnQgLT4gY29tcG9uZW50XG5jb25zdCBzdGVuY2lsID0gKHNwZWNzID0ge30pID0+IHtcbiAgcmV0dXJuIFdyYXBwZWRDb21wb25lbnQgPT4ge1xuICAgIHJldHVybiBjbGFzcyBTdGVuY2lsIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAgIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcylcblxuICAgICAgICB0aGlzLnN0YXRlID0ge31cbiAgICAgICAgdGhpcy5leHRlbmRlZEV4YW1wbGVzID0gT2JqZWN0LmFzc2lnbihzcGVjcy5leGFtcGxlcyB8fCB7fSwge1xuICAgICAgICAgIGRlZmF1bHQ6IHsuLi50aGlzLnByb3BzfVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLnNldEV4YW1wbGUgPSB0aGlzLnNldEV4YW1wbGUuYmluZCh0aGlzKVxuICAgICAgICB0aGlzLnNldFByb3AgPSB0aGlzLnNldFByb3AuYmluZCh0aGlzKVxuICAgICAgfVxuXG4gICAgICBzZXRFeGFtcGxlIChleGFtcGxlKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoey4uLnRoaXMuZXh0ZW5kZWRFeGFtcGxlc1tleGFtcGxlXX0pXG4gICAgICB9XG5cbiAgICAgIHNldFByb3AgKHByb3AsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1twcm9wXTogdmFsdWV9KVxuICAgICAgfVxuXG4gICAgICByZW5kZXIgKCkge1xuICAgICAgICBjb25zdCBleHRlbmRlZFByb3BzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wcm9wcywgdGhpcy5zdGF0ZSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8RG9jdW1lbnRlclxuICAgICAgICAgICAgc2V0RXhhbXBsZT17dGhpcy5zZXRFeGFtcGxlfVxuICAgICAgICAgICAgc2V0UHJvcD17dGhpcy5zZXRQcm9wfVxuICAgICAgICAgICAgY29tcG9uZW50UHJvcHM9e2V4dGVuZGVkUHJvcHN9XG4gICAgICAgICAgICB7Li4uc3BlY3N9PlxuICAgICAgICAgICAgPFdyYXBwZWRDb21wb25lbnQgey4uLmV4dGVuZGVkUHJvcHN9IC8+XG4gICAgICAgICAgPC9Eb2N1bWVudGVyPlxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IGRlZmF1bHQgYXMgbWVyZ2UgfSBmcm9tICdoZWxwZXJzL21lcmdlJ1xuZXhwb3J0IGRlZmF1bHQgc3RlbmNpbFxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3N0ZW5jaWwuanMiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMTRfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImFzc2lnbi1kZWVwXCJcbi8vIG1vZHVsZSBpZCA9IDE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=